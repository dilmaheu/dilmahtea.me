---
import Brand from "/logo.svg";
import LangButton from "./LangButton.astro";
import UKImg from "/images/UK.svg";
import GerImg from "/images/germany.svg";
import NLImg from "/images/netherlands.svg";

interface Props {
    locale: string
    availableLocales: (string | null)[]
}

const { locale, availableLocales } = Astro.props
---

<nav class="wrapper mx-auto z-50 relative ">
    <div class="flex justify-between navbar">
        <div class="my-auto">
            <a href="/"><img src={Brand} class="brandLogo" alt="brand-logo" /></a>
        </div>

        <div id="dropdown" class="dropdown text-sm lg:text-base font-bold relative noselect">
            <div id="langBtn" class="flex items-center gap-x-1.5 md:gap-x-3 font-bold focus:outline-none langBtn">
                <div class="langIcon rounded-full overflow-hidden">
                    <img src={locale=="en" ? UKImg : locale=="nl" ? NLImg : GerImg} class="w-full h-full object-cover"
                        alt="brand-logo">
                </div>
                <div class="font-bold">{locale.toUpperCase()}</div>
                <div class="w-3">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.6 6.7">
                        <path class="cls-1"
                            d="M.3.3A.6.6,0,0,1,.9,0a.9.9,0,0,1,.6.3L5.8,4.6,10.2.3a.6.6,0,0,1,.6-.3l.6.3a.8.8,0,0,1,.2.6.7.7,0,0,1-.2.6l-5,4.9a.6.6,0,0,1-.6.3.9.9,0,0,1-.6-.3L.3,1.5A.9.9,0,0,1,0,.9.6.6,0,0,1,.3.3Z"
                            fill="#2B4B50" />
                    </svg>
                </div>
            </div>
            <ul id="dropdownMenu" class="absolute rounded hidden overflow-hidden dropdown-menu">
                {
                availableLocales.filter((lcl) => lcl != locale).map((lcl, index) =>
                <LangButton id={`selectLang${index + 1}`} locale={lcl} />)}
                { availableLocales.length > 1 && locale != "en" ?
                <LangButton id={`selectLang2`} locale="en" />: null
                }
                { availableLocales.length
                < 2 && locale !="en" ? <LangButton id={`selectLang1`} locale="en" />: null
                }
            </ul>
        </div>
    </div>
</nav>