---

---

<script>
    /* Redirection Script */
    // Placed in head as it should run before everything else
    const allLocales = ["en", "nl", "de"] // List available locales
    const browserLocale = navigator.language.substring(0, 2) // get browser locale
    const locale = document.documentElement.lang // get current document locale
    let preferredLocale = localStorage.getItem('locale') // locale stored in browser storage
    if (preferredLocale == null) { // if no stored locale use browser locale if it exists in the list
        localStorage.setItem(`locale`, allLocales.includes(browserLocale) ? browserLocale : "en")
        preferredLocale = localStorage.getItem(`locale`)
    }
    if (window.location.pathname != "/404") {
        if (locale != preferredLocale) { // if stored locale and document locale differ redirect
            let newPath
            if (locale == "en") {
                newPath = `/${preferredLocale}${window.location.pathname}`
                window.location.pathname = newPath
            } else {
                const checkRegex = RegExp(`/${preferredLocale}/`)
                if (!checkRegex.test(window.location.pathname)) {
                    newPath = `${preferredLocale == "en" ? "" : `/${preferredLocale}`}${window.location.pathname.replace(/^\/\w{2}/g, '')}`
                    window.location.pathname = newPath
                }
            }
        }
    }
</script>