<script is:inline>
  {
    const { origin, pathname } = location,
      currentLocale = pathname.slice(1, 3),
      preferredLocaleUrl = new URL(
        // preferredLocale is defined in SetPreferredLocale.astro
        origin + pathname.replace(currentLocale, preferredLocale) 
      );

    preferredLocaleUrl.searchParams.append("requestedLocale", currentLocale);

    location.href = preferredLocaleUrl.toString();
  }
</script>
