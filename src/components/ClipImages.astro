---
import { parseHTML } from "linkedom";

const contentHTML = await Astro.slots.render("default"),
  { document: contentBody } = await parseHTML(contentHTML),
  contentImages = contentBody.querySelectorAll("#detailedBlog img");

// clip image using svg path
[...contentImages].forEach((img) => {
  // content-images-curve clip path is defined in PostDetailsLayout.astro
  img.outerHTML = `<img
    src="${
      // @ts-ignore
      img.src
    }"
    class="w-full h-full"
    style="clip-path: url(#content-images-curve);"
  />`;
});
---

<Fragment set:html={contentBody.toString()} />
