---
import RecurringImages from "@store/RecurringImages";
import ClipPathSVG from "@components/ClipPathSVG.astro";
import UpdateTopMargin from "@scripts/UpdateTopMargin.astro";

const { hero_background, hero_background_sm } = RecurringImages;
---

<ClipPathSVG
  id="hero-background-curve"
  path="M1 0v.939A.27.27 0 0 1 .828 1H.81A1.462 1.462 0 0 1 .648.987C.586.981.522.974.451.974.376.974.312.981.252.988.202.994.156 1 .11 1H.097C.009.996 0 .956 0 .956V0"
/>

<style lang="scss">
  .hero-background {
    background-size: cover;
    background-image: var(--hero-background-sm);

    @media (min-width: 768px) {
      background-image: var(--hero-background);
    }
  }
</style>

<section
  class="hero overflow-hidden relative"
  style="clip-path: url(#hero-background-curve);"
>
  <UpdateTopMargin />

  <div
    class="hero-background absolute w-full h-full object-cover object-left-top"
    style={`--hero-background: url('${hero_background.src}'); --hero-background-sm: url('${hero_background_sm.src}');`}
  >
  </div>

  <slot />
</section>
