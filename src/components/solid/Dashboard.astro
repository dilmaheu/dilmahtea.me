---
import subset from "@utils/shared/subset";
import Dashboard from "@solid/Dashboard";
import notificationIcons from "@utils/notificationIcons";

let { page, verificationHref, userAccountAddressURL, recurData } =
  structuredClone(Astro.props);

page.kindnessCauses.forEach((kindnessCause) => {
  delete kindnessCause.locale;
  delete kindnessCause.localizations;
});

page = subset(page, [
  "Title",
  "Personal_information",
  "Block2_visibility",
  "Block2",
  "kindnessCauses",
  "Block3_title",
]);

recurData = subset(recurData, [
  "text_first_name",
  "first_name_placeholder",
  "text_last_name",
  "last_name_placeholder",
  "text_country",
  "country_placeholder",
  "text_city",
  "city_placeholder",
  "text_street",
  "street_placeholder",
  "text_postal_code",
  "postal_code_placeholder",
  "countries",
  "text_add",
  "text_update",
  "text_save",
  "text_cancel",
  "text_view_all_addresses",
  "Button_track_package",
  "Button_track_package_text",
  "text_buy_again",
  "text_sold_out",
  "text_go_to_my_orders",
  "text_add_new_address",
  "text_order",
  "text_quantity",
  "text_estimated_shipment",
  "text_estimated_delivery",
  "text_delivered",
  "Item_stock_text",
  "text_more_address",
  "text_show_more_product_in_this_order_singular",
  "text_hide_more_product_in_this_order_singular",
  "text_show_more_products_in_this_order",
  "text_hide_more_products_in_this_order",
  "Label_tag_text",
  "Tag_add_text",
  "Tag_add_placeholder",
  "Tag_suggestions",
  "Checkbox_set_default_delivery_address_text",
  "Checkbox_set_default_billing_address_text",
  "Notification_added_address",
  "Notification_updated_address",
  "Notification_deleted_address",
]);
---

<Dashboard
  client:load
  {page}
  {verificationHref}
  {userAccountAddressURL}
  {recurData}
  {notificationIcons}
>
  <slot name="plusIcon" slot="plusIcon" />
  <slot name="kindnessCausesHTML" slot="kindnessCausesHTML" />
  <slot name="noOrdersHTML" slot="noOrdersHTML" />
</Dashboard>
